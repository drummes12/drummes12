---
import ExperienceItem from './ExperienceItem.astro'

interface Props {
  componentId?: string
}

const { componentId } = Astro.props

const EXPERIENCES = [
  {
    title: 'Creador de Contenido',
    company: 'Twitch',
    location: '🌐',
    startDate: '2023-Ene',
    endDate: 'Actualidad',
    description:
      'Divulgo sobre programación y desarrollo web en diferentes plataformas. Galardonado como mejor creador de contenido de habla no-inglesa en 2022 y mejor comunidad en 2023 por GitHub.',
  },
  {
    title: 'Principal Frontend Engineer',
    company: 'Adevinta Spain',
    location: '🇪🇸',
    startDate: '2022-Ene',
    endDate: '2023-Ene',
    description:
      'Responsable de la plataforma, componentes y utilidades para la creación y desarrollo de aplicaciones web. Mejora de un 30% en la entrega de software. Implantación de medidas de integración continua y despliegue con A/B testing en más de 15 equipos.',
  },
  {
    title: 'Software Engineer Junior',
    company: 'Clevertech',
    location: '🇨🇴',
    startDate: '2020-Ene',
    endDate: '2020-Dic',
    description:
      'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla euismod, nisl quis aliquam ultricies, nunc nisl aliquet nunc, vitae aliquam nisl nunc vitae nisl',
  },
]
---

<section id={componentId} class='min-h-screen h-max relative flex flex-col items-center overflow-hidden'>
  <div class='absolute inset-0 h-screen -z-50'>
    <div
      class='light light-1 absolute top-1/3 left-0 w-10 h-56 md:h-96 bg-[#ffffffa8] shadow-neon3-border -z-50 rotate-[36deg] rounded-full blur-md'
    >
    </div>
    <div
      class='light light-2 absolute top-2/3 right-0 w-10 h-40 md:h-80 bg-[#ffffffa8] shadow-neon4-border -z-50 -rotate-[36deg] rounded-full blur-md'
    >
    </div>
  </div>
  <div class='h-full w-full p-4 sm:p-8 max-w-[1400px] flex flex-col mb-16'>
    <header class='flex w-full justify-end mt-16'>
      <h2 class='text-right font-extrabold [font-size:_clamp(3rem,_1.158rem_+_9.825vw,_10rem)] text-gray-500/50'>Experiencia</h2>
    </header>
    <ol class='relative text-right border-e border-white/90 max-md:backdrop-blur-sm md:bg-transparent w-full'>
      {EXPERIENCES.map((experience) => <ExperienceItem {...experience} />)}
    </ol>
  </div>
</section>

<!-- TODO: Solution Scroll timeline -->
<style>
  .light {
    view-timeline-axis: block;
    animation-fill-mode: both;
    animation-range: entry 25% cover 10%;
  }
  .light-1 {
    view-timeline-name: --revealing-light--1;
    animation-timeline: --revealing-light--1;
    animation-name: rotate-light-1;
  }
  .light-2 {
    view-timeline-name: --revealing-light--2;
    animation-timeline: --revealing-light--2;
    animation-name: rotate-light-2;
  }

  @keyframes rotate-light-1 {
    from {
      transform: rotate(0deg) translateX(-100px);
    }
    to {
      transform: rotate(36deg) translateX(0);
    }
  }

  @keyframes rotate-light-2 {
    from {
      transform: rotate(0deg) translateX(100px);
    }
    to {
      transform: rotate(-36deg) translateX(0);
    }
  }
</style>
