---
interface Props {
  componentId?: string
}

const { componentId } = Astro.props

const EXPERIENCES = [
  {
    title: 'Creador de Contenido',
    company: 'Twitch',
    location: '🌐',
    startDate: '2023-Ene',
    endDate: 'Actualidad',
    description:
      'Divulgo sobre programación y desarrollo web en diferentes plataformas. Galardonado como mejor creador de contenido de habla no-inglesa en 2022 y mejor comunidad en 2023 por GitHub.',
  },
  {
    title: 'Principal Frontend Engineer',
    company: 'Adevinta Spain',
    location: '🇪🇸',
    startDate: '2022-Ene',
    endDate: '2023-Ene',
    description:
      'Responsable de la plataforma, componentes y utilidades para la creación y desarrollo de aplicaciones web. Mejora de un 30% en la entrega de software. Implantación de medidas de integración continua y despliegue con A/B testing en más de 15 equipos.',
  },
  {
    title: 'Software Engineer Junior',
    company: 'Clevertech',
    location: '🇨🇴',
    startDate: '2020-Ene',
    endDate: '2020-Dic',
    description:
      'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla euismod, nisl quis aliquam ultricies, nunc nisl aliquet nunc, vitae aliquam nisl nunc vitae nisl',
  },
  {
    title: 'Frontend Developer',
    company: 'Vercel',
    location: '🌐',
    startDate: '2021-Ene',
    endDate: '2021-Dic',
    description:
      'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla euismod, nisl quis aliquam ultricies, nunc nisl aliquet nunc, vitae aliquam nisl nunc vitae nisl',
  },
]
---

<section id={componentId} class='min-h-screen h-full md:h-screen w-full relative flex justify-center items-center'>
  <div
    class='light light-1 absolute top-1/3 left-0 w-10 h-56 md:h-96 bg-[#ffffffa8] shadow-neon2-border -z-50 rotate-[36deg] rounded-full blur-md'
  >
  </div>
  <div
    class='light light-2 absolute top-2/3 right-0 w-10 h-40 md:h-80 bg-[#ffffffa8] shadow-neon1-border -z-50 -rotate-[36deg] rounded-full blur-md'
  >
  </div>
  <section class='w-3/4 max-w-4xl'>
    <header class='sticky top-1/4 flex justify-end md:mb-8'>
      <h2 class='text-right font-extrabold text-[4rem] sm:text-8xl text-gray-500/50'>Experience</h2>
    </header>
    <ol class='relative text-right'>
      {
        EXPERIENCES.map((experience) => (
          <li class='group text-lg font-light border-e border-white/90 [&>*]:mr-5 flex flex-col items-end md:hover:bg-white/5 md:hover:rounded-xl p-6 md:hover:backdrop-blur-sm'>
            <div class='absolute size-2 rounded-full mt-3 -end-6 border border-white/90 bg-white/90 md:group-hover:animate-bounce' />
            <time class='text-gray-300 text-sm font-dm-mono'>
              {experience.startDate} - {experience.endDate}
            </time>
            <h3 class='md:group-hover:-mb-2 -mb-2 text-medium'>
              {experience.location} {experience.title}
            </h3>
            <h4 class='md:group-hover:block md:hidden text-gray-400 text-sm font-bold'>{experience.company}</h4>
            <p class='md:group-hover:block md:hidden text-gray-300 text-base max-w-[50ch] text-pretty'>
              {experience.description}
            </p>
          </li>
        ))
      }
    </ol>
  </section>
</section>

<style>
  .light {
    view-timeline-axis: block;
    animation-fill-mode: both;
    animation-range: entry 25% cover 50%;
  }
  .light-1 {
    view-timeline-name: --light-1;
    animation-timeline: --light-1;
    animation-name: rotate-light-1;
  }
  .light-2 {
    view-timeline-name: --light-2;
    animation-timeline: --light-2;
    animation-name: rotate-light-2;
  }

  @keyframes rotate-light-1 {
    from {
      transform: rotate(0deg) translateX(-100px);
    }
    to {
      transform: rotate(36deg) translateX(0);
    }
  }
  @keyframes rotate-light-2 {
    from {
      transform: rotate(0deg) translateX(100px);
    }
    to {
      transform: rotate(-36deg) translateX(0);
    }
  }
</style>
